# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –±–æ—Ç –ø–µ—Ä–µ—Å—Ç–∞–ª —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–æ–±–±–∏ —Å –æ—à–∏–±–∫–æ–π "Dota 2 connection timeout".

## –ü—Ä–∏—á–∏–Ω–∞
–í —Ñ—É–Ω–∫—Ü–∏–∏ `steam_worker_process` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **gevent** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Steam API, –Ω–æ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª **threading.Event** –≤–º–µ—Å—Ç–æ **gevent.event.Event**. –≠—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ —Ç–æ–º—É, —á—Ç–æ:
- –°–æ–±—ã—Ç–∏–µ `dota_ready` –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–æ—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- `dota_ready.wait(timeout=60)` –Ω–µ —Ä–∞–±–æ—Ç–∞–ª –≤ gevent –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
- –ë–æ—Ç –∂–¥–∞–ª 60 —Å–µ–∫—É–Ω–¥ –∏ –ø–æ–ª—É—á–∞–ª —Ç–∞–π–º–∞—É—Ç

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
–ó–∞–º–µ–Ω–∏–ª `threading.Event()` –Ω–∞ `gevent.event.Event()`:

```python
# –ë—ã–ª–æ:
lobby_created = threading.Event()
dota_ready = threading.Event()

# –°—Ç–∞–ª–æ:
lobby_created = gevent.event.Event()
dota_ready = gevent.event.Event()
```

## –í–∞–∂–Ω–æ
–í gevent –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –í–°–ï–ì–î–ê –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `gevent.event.Event()` –≤–º–µ—Å—Ç–æ `threading.Event()`
- `gevent.sleep()` –≤–º–µ—Å—Ç–æ `time.sleep()`
- `gevent.spawn()` –≤–º–µ—Å—Ç–æ `threading.Thread()`

---

## –î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2025-11-03

